(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{308:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return a}))},451:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(5),s=r(308),a=r(8),l=r(1),i=r(14),o=r(111),c=r(12),u=(r(309),r(0));const f=Object(u.forwardRef)(({data:e,loading:t,value:r,refList:f,canRead:d,isMulti:b,search:p,autoFocus:g,serverErrors:h,onChange:m,htmlID:O,setSearch:y,selectProps:j,fetchMore:v,isDisabled:N},q)=>{const w=e&&e[f.gqlNames.listQueryName]?e[f.gqlNames.listQueryName].map(e=>({value:e,label:e._label_})):[],M=h&&h.find(e=>e instanceof Error&&"AccessDeniedError"===e.name);let $=null;const k=e=>"string"==typeof e?w.find(t=>t.value.id===e)||{label:e,value:e}:{label:e._label_,value:e};null!==r&&d&&(b?$=(Array.isArray(r)?r:[]).map(k):r&&($=k(r)));const D=e&&e[f.gqlNames.listQueryMetaName]?e[f.gqlNames.listQueryMetaName].count:0,E=Object(u.useMemo)(()=>({MenuList:e=>{let{children:t}=e,r=Object(a.a)(e,["children"]);const n=Object(u.useRef)(null),o=i.gql`
            query RelationshipSelectMore($search: String!, $first: Int!, $skip: Int!) {
              ${f.gqlNames.listQueryName}(search: $search, first: $first, skip: $skip) {
                _label_
                id
              }
            }
          `;return function(e,t){Object(u.useEffect)(()=>{let r=new IntersectionObserver(e,{}),n=t.current;if(null!==n)return r.observe(n),()=>r.unobserve(n)})}(([{isIntersecting:e}])=>{!r.isLoading&&e&&r.options.length<D&&v({query:o,variables:{search:p,first:50,skip:r.options.length},updateQuery:(e,{fetchMoreResult:t})=>t?Object(s.a)(Object(s.a)({},e),{},{[f.gqlNames.listQueryName]:[...e[f.gqlNames.listQueryName],...t[f.gqlNames.listQueryName]]}):e})},n),Object(l.jsx)(c.f.MenuList,r,t,Object(l.jsx)("div",{css:{textAlign:"center"},ref:n},r.options.length<D&&Object(l.jsx)("span",{css:{padding:8}},"Loading...")))}}),[D,f.gqlNames.listQueryName]);return Object(l.jsx)(o.a,Object(n.a)({onInputChange:e=>y(e),isLoading:t,autoFocus:g,isMulti:b,components:E,getOptionValue:e=>e.value.id,value:$,placeholder:d?void 0:M&&M.message,options:w,onChange:m,id:"react-select-"+O,isClearable:!0,instanceId:O,inputId:O,innerRef:q,menuPortalTarget:document.body,isDisabled:N},j))}),d=({innerRef:e,autoFocus:t,field:r,errors:n,renderContext:s,htmlID:a,onChange:o,isMulti:c,value:d,isDisabled:b})=>{const[p,g]=Object(u.useState)(""),h=r.getRefList(),m=i.gql`
    query RelationshipSelect($search: String!, $first: Int!, $skip: Int!) {
      ${h.gqlNames.listQueryName}(search: $search, first: $first, skip: $skip) {
        _label_
        id
      }

      ${h.gqlNames.listQueryMetaName}(search: $search) {
        count
      }
    }
  `,O=!n||n.every(e=>!(e instanceof Error&&"AccessDeniedError"===e.name)),y="dialog"===s?{menuShouldBlockScroll:!0}:null,{data:j,error:v,loading:N,fetchMore:q}=Object(i.useQuery)(m,{fetchPolicy:"network-only",variables:{search:p,first:10,skip:0}});return v?(console.log("ERROR!!!",v),"Error"):Object(l.jsx)(f,{data:j,loading:N,value:d,refList:h,canRead:O,isMulti:c,search:p,autoFocus:t,serverErrors:n,onChange:o,htmlID:a,setSearch:g,selectProps:y,fetchMore:q,ref:e,isDisabled:b})}},477:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(451);r(150),r(308),r(149),r(1),r(111),r(309);const l=({children:e})=>s.a.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()}},e);t.default=({onChange:e,filter:t,field:r,value:n})=>{if(!t)return null;const i="ks-input-"+r.path;return s.a.createElement(l,null,s.a.createElement(a.a,{field:r,renderContext:null,htmlID:i,onChange:t=>{if(null===t)e(null);else{const{value:r}=t;r&&e(r.id)}},value:n,isMulti:!1}))}}}]);