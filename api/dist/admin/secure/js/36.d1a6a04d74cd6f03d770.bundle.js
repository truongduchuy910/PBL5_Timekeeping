(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{575:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(198),o=n.p+"3ab7ad6384fa7459980143f40e823efc.svg",c=n(357),s=n(92),u=n(29),l=n.n(u);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v,m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="http://b88dbc29ad5c.ngrok.io",this.option={headers:{Accept:"application/json","Content-type":"application/json"},method:"POST",redirect:"follow"},"production"===t&&(this.mode="")}var t,n,r,a,i,o,c,s,u;return t=e,(n=[{key:"uploadByUrls",value:(u=h(l.a.mark((function e(t,n){var r,a,i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isAvailable();case 2:r=e.sent,console.log("status",r);case 4:if(!r){e.next=0;break}case 5:return a="".concat(this.url,"/uploadByUrls"),i=JSON.stringify({url_list:t,txtusername:n}),e.next=9,fetch(a,p(p({},this.option),{},{body:i}));case 9:if(200!==(o=e.sent).status){e.next=17;break}return e.next=13,o.json();case 13:return c=e.sent,e.abrupt("return",c);case 17:console.error(o.status,o.statusText);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"train",value:(s=h(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.url,"/trainning"),e.next=3,fetch(t,{headers:{Accept:"application/json","Content-type":"application/json"},method:"GET",redirect:"follow"});case 3:return n=e.sent,e.abrupt("return",200===n.status);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getIdByUrls",value:(c=h(l.a.mark((function e(t){var n,r,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isAvailable();case 2:n=e.sent,console.log("status",n);case 4:if(!n){e.next=0;break}case 5:return r="".concat(this.url,"/identifiedStrList"),a=JSON.stringify({url_list:t}),e.next=9,fetch(r,p(p({},this.option),{},{body:a}));case 9:if(200!==(i=e.sent).status){e.next=17;break}return e.next=13,i.json();case 13:return o=e.sent,e.abrupt("return",o);case 17:console.error(i.status,i.statusText);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getIdByUrl",value:(o=h(l.a.mark((function e(t){var n,r,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isAvailable();case 2:n=e.sent,console.log("status",n);case 4:if(!n){e.next=0;break}case 5:return r="".concat(this.url,"/identifiedStr"),a=JSON.stringify({url:t}),e.next=9,fetch(r,p(p({},this.option),{},{body:a}));case 9:if(200!==(i=e.sent).status){e.next=17;break}return e.next=13,i.json();case 13:return o=e.sent,e.abrupt("return",o);case 17:console.error(i.statusText);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"isAvailable",value:(i=h(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.url,"/checkAvailable"),e.next=3,fetch(t,{headers:{Accept:"application/json","Content-type":"application/json"},method:"GET",redirect:"follow"});case 3:return n=e.sent,e.abrupt("return",200===n.status);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"deleteById",value:(a=h(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/deleteById"),r=JSON.stringify({id:t}),e.next=4,fetch(n,p(p({},this.option),{},{body:r}));case 4:return a=e.sent,e.abrupt("return",200===a.status);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})}])&&y(t.prototype,n),r&&y(t,r),e}(),g=n(576);function w(e){var t,n,i=e.onTrain,o=Object(c.a)(Object(s.a)(v||(t=["\n      query {\n        allUsers {\n          id\n          name\n          faces {\n            id\n            file {\n              publicUrl\n            }\n          }\n        }\n      }\n    "],n||(n=t.slice(0)),v=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))),u=o.loading,l=o.error,f=o.data,p=(void 0===f?{}:f).allUsers,d=void 0===p?[]:p,b=Object(r.useMemo)((function(){return d.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("h5",null,e.name),e.faces.map((function(e){return a.a.createElement("span",{key:e.id},a.a.createElement("img",{height:50,src:e.file.publicUrl}))})))}))}),[d]);return u?"Loaing...":l||a.a.createElement("div",null,b,a.a.createElement(g.a,{onClick:function(e){i(d)}},"train"))}var O,j=n(572),x=n(573);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){var e,t,n=Object(c.a)(Object(s.a)(O||(e=["\n    query {\n      allTFaces {\n        id\n        url\n      }\n    }\n  "],t||(t=e.slice(0)),O=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))))),i=n.loading,o=n.error,u=n.data,l=void 0===u?{allTFaces:[{}]}:u,f=(Object(r.useCallback)((function(){return new m}),[f]),k(l.allTFaces,1)[0].url),p=function(e){console.log(f,e)},d=Object(r.useMemo)((function(){return a.a.createElement(w,{onTrain:p})}),[l]);return i?"loading...":o?o.toString():a.a.createElement(j.a,null,a.a.createElement(x.a,{p:2},d))}t.default={listHeaderActions:function(){return a.a.createElement("div",null,a.a.createElement(i.a,null))},logo:function(){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{style:{textAlign:"end",color:"#6c757d"}},a.a.createElement("img",{src:o,style:{maxWidth:300}}),a.a.createElement("p",{style:{maxWidth:400}},"Created and developed by students of Da Nang University of Science and Technology")))},pages:function(e){return[{path:"/train",label:"# Train",component:S},{listKey:"Report",label:"# Report"},{listKey:"Shift",label:"# Shift"},{listKey:"User",label:"# User"},{listKey:"TFace",label:"# TFace"}]}}}}]);